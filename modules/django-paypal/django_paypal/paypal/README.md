## Django Paypal backend configuration and information

## Module description

By using this module, users will be able to handle payment transactions by using `Paypal` services.

The following are the scope features for this module:

- Generate Access Token
- Create and show orders and make authorization payments for orders
- Show, reauthorize, capture authorized payments and refund capture payments and show refund details
- Generate, show and list Invoices
- Create, show, update, suspend, active and cancel the subscriptions
- Create, show, list, deactivate and activate the plans

## Features

- [ ] This module includes migrations.
- [x] This module includes environment variables.
- [x] This module requires manual configurations.
- [ ] This module can be configured with module options.

## Environment variables

```dotenv
PAYPAL_BASE_URL=""
PAYPAL_CLIENT_ID=""
PAYPAL_CLIENT_SECRETS=""
```

## 3rd party setup

Create `Paypal` Developer account setup:

- Create a [developer account](https://www.paypal.com/signin/client?flow=provisionUser&country.x=US&locale.x=en_US) on
  PayPal and put your information in it.
- After Signup in PayPal your dashboard will appear. Click on `Apps & Credentials`.
- Then click on `Create App`.
- Enter your App name and click on `Create app` button.
- When your app is created. Your sandbox account, client id and client secret will appear.
- Copy your sandbox account, `client id`,`client secret` and `base URL` and save them for later use.
- Come back to your dashboard and click on `Testing Tools` and then on the `sandbox account`.
- After these above steps you must have your two accounts one is business and the other one personal. These accounts
  are valid, you can use them as both business or personal.
  ![screenshot-developer paypal com-2023 03 24-13_21_22](https://user-images.githubusercontent.com/120275623/227464447-7a9c576f-4745-4b9d-b383-fb2ffa19b520.png)

## Dependencies

No dependencies are required for this module.

## API details

| Api Name                                                                                       |                                      Param                                       | Description                                                                                                                                                                                                                                                                                                                                                                                    |
|------------------------------------------------------------------------------------------------|:--------------------------------------------------------------------------------:|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `/modules/paypal/service/create-order/` `POST`                                                 |                [body_params](#Postman-Collection-Of-PayPal-APIs)                 | Creates an order Required the request body. For details about request body visit the given link.  https://developer.paypal.com/docs/api/orders/v2/#orders_create                                                                                                                                                                                                                               |
| `/modules/paypal/service/confrim-order` `POST`                                                 |     path_param `order_id`, [body_params](#Postman-Collection-Of-PayPal-APIs)     | Confirm an order Required the request body and order_id as path param to confirm the order.                                                                                                                                                                                                                                                                                                    |
| `/modules/paypal/service/{order_id}/get_order_details/`  `GET`                                 |                              path_param `order_id`                               | Shows details for an order, by ID.                                                                                                                                                                                                                                                                                                                                                             |
| `/modules/paypal/service/{order_id}/authorize-payment-for-order/` `POST`                       |                              path_param `order_id`                               | Authorizes payment for an order. To successfully authorize payment for an order, the buyer must first approve the order                                                                                                                                                                                                                                                                        |
| `/modules/paypal/service/{order_id}/capture-payment-for-order/` `POST`                         |                              path_param `order_id`                               | Captures payment for an order. To successfully capture payment for an order, the buyer must first approve the order.                                                                                                                                                                                                                                                                           |
| `/modules/paypal/service/{authorization_id}/get-authorized-payment/`  `GET`                    |                          path_param `authorization_id`                           | Shows details for an authorized payment, by ID                                                                                                                                                                                                                                                                                                                                                 |
| `/modules/paypal/service/{authorization_id}/capture-authorized-payment/`  `POST`               | path_param `authorization_id`, [body_params](#Postman-Collection-Of-PayPal-APIs) | Captures an authorized payment, by ID.  The API also required Capture details in request body. For details about request body visit the given link  https://developer.paypal.com/docs/api/payments/v2/#authorizations_capture                                                                                                                                                                  |
| `/modules/paypal/service/{capture_id}/get-captured-payment/` `GET`                             |                             path_param `capture_id`                              | Shows details for a captured payment, by ID.                                                                                                                                                                                                                                                                                                                                                   |
| `/modules/paypal/service/{capture_id}/refund-capture-payment/` `POST`                          |    path_param `capture_id`, [body_params](#Postman-Collection-Of-PayPal-APIs)    | Refunds a captured payment, by ID. For a full refund, include an empty payload in the JSON request body. For a partial refund, include an amount object in the JSON request body.For more details about request body visit the given link . https://developer.paypal.com/docs/api/payments/v2/#captures_refund                                                                                 |
| `/modules/paypal/service/{refund_id}/get-refund-details/` `GET`                                |                              path_param `refund_id`                              | Shows details for a refund, by ID.                                                                                                                                                                                                                                                                                                                                                             |
| `/modules/paypal/service/create-product/` `POST`                                               |                [body_params](#Postman-Collection-Of-PayPal-APIs)                 | Creates a product Required the request body. For details about request body visit the given link  https://developer.paypal.com/docs/api/catalog-products/v1/#products_create                                                                                                                                                                                                                   |
| `/modules/paypal/service/{product_id}/get-product-details/` `GET`                              |                             path_param `product_id`                              | Shows details for a product, by ID                                                                                                                                                                                                                                                                                                                                                             |
| `/modules/paypal/service/create-plan/`  `POST`                                                 |                [body_params](#Postman-Collection-Of-PayPal-APIs)                 | Creates a plan that defines pricing and billing cycle details for subscriptions. Required the request body. For details about request body visit the given link  https://developer.paypal.com/docs/api/subscriptions/v1/#plans_create                                                                                                                                                          |
| `/modules/paypal/service/{plan_id}/get-plan-details/`  `GET`                                   |                               path_param `plan_id`                               | Shows details for a plan, by ID.                                                                                                                                                                                                                                                                                                                                                               |
| `/modules/paypal/service/{plan_id}/deactivate-plan/`  `POST`                                   |                               path_param `plan_id`                               | Deactivates a plan, by ID.                                                                                                                                                                                                                                                                                                                                                                     |
| `/modules/paypal/service/{plan_id}/activate-plan/` `POST`                                      |                               path_param `plan_id`                               | Activates a plan, by ID.                                                                                                                                                                                                                                                                                                                                                                       |
| `/modules/paypal/service/create-subscription/` `POST`                                          |                [body_params](#Postman-Collection-Of-PayPal-APIs)                 | Creates a subscription. Required the request body. For details about request body visit the given link  https://developer.paypal.com/docs/api/subscriptions/v1/#subscriptions_create                                                                                                                                                                                                           |
| `/modules/paypal/service/{subscription_id}/get-refund-details/` `GET`                          |                           path_param `subscription_id`                           | Shows details for a subscription, by ID.                                                                                                                                                                                                                                                                                                                                                       |
| `/modules/paypal/service/{subscription_id}/suspend-subscription/`   `POST`                     |                           path_param `subscription_id`                           | Suspends the subscription.                                                                                                                                                                                                                                                                                                                                                                     |
| `/modules/paypal/service/{subscription_id}/activate-subscription/`  `POST`                     |                           path_param `subscription_id`                           | Activates the subscription.                                                                                                                                                                                                                                                                                                                                                                    |
| `/modules/paypal/service/{subscription_id}/cancel-subscription/`    `POST`                     |                           path_param `subscription_id`                           | Cancels the subscription. To cancel the subscription you must suspend it first                                                                                                                                                                                                                                                                                                                 |
| `/modules/paypal/service/{subscription_id}/capture-authorized-payment-on-subscription/` `POST` | path_param `subscription_id` , [body_params](#Postman-Collection-Of-PayPal-APIs) | Captures an authorized payment from the subscriber on the subscription. Required the request body. For details about request body visit the given link  https://developer.paypal.com/docs/api/subscriptions/v1/#subscriptions_capture                                                                                                                                                          |
| `/modules/paypal/service/generate-invoice-number/`   `POST`                                    |                                       None                                       | Generates the next invoice number that is available to the merchant                                                                                                                                                                                                                                                                                                                            |
| `/modules/paypal/service/create-draft-invoice/`       `POST`                                   |                [body_params](#Postman-Collection-Of-PayPal-APIs)                 | Creates a draft invoice. To move the invoice from a draft to payable state, you must send the invoice Required the request body. For details about request body visit the given link  https://developer.paypal.com/docs/api/invoicing/v2/#invoices_create                                                                                                                                      |
| `/modules/paypal/service/{invoice_id}/get-invoice-details/`  `GET`                             |                             path_param `invoice_id`                              | Shows details for an invoice, by ID.                                                                                                                                                                                                                                                                                                                                                           |
| `/modules/paypal/service/{invoice_id}/send-invoice/`   `POST`                                  |                             path_param `invoice_id`                              | Sends or schedules an invoice, by ID, to be sent to a customer. Required the request body. For details about request body visit the given link  https://developer.paypal.com/docs/api/invoicing/v2/#invoices_send                                                                                                                                                                              |
| `/modules/paypal/service/list-disputes/`               `GET`                                   |                                       None                                       | Lists disputes with a summary set of details, which shows the dispute_id, reason, status, dispute_state, dispute_life_cycle_stage, dispute_channel, dispute_amount, create_time and update_time fields                                                                                                                                                                                         |
| `/modules/paypal/service/{dispute_id}/get-dispute-details/`  `GET`                             |                             path_param `dispute_id`                              | Shows details for a dispute, by ID.                                                                                                                                                                                                                                                                                                                                                            |
| `/modules/paypal/service/{dispute_id}/accept-claim/`          `POST`                           |   path_param `dispute_id`,   [body_params](#Postman-Collection-Of-PayPal-APIs)   | Accepts liability for a claim, by ID. When you accept liability for a claim, the dispute closes in the customer’s favor and PayPal automatically refunds money to the customer from the merchant's account. Required the request body. For details about request body visit the given link  https://developer./modules/paypal.com/docs/api/customer-disputes/v1/#disputes-actions_accept-claim |
| `/modules/paypal/service/create-web-hook/`                    `POST`                           |                [body_params](#Postman-Collection-Of-PayPal-APIs)                 | Subscribes your webhook listener to events. Required the request body. For details about request body visit the given link  https://developer.paypal.com/docs/api/webhooks/v1/#webhooks_post                                                                                                                                                                                                   |

## Postman Collection Of PayPal APIs

Here is a collection of all the api endpoints for the PayPal module.
[Paypal-APIs Postman Collection](https://drive.google.com/file/d/1Q_4d-gBlIpO1O8y1Hi__ybC8o3V0FXAJ/view?usp=sharing)

## Module Specifications

Here is
the [Module Specification Document](https://docs.google.com/document/d/1OMUhgHQm7NlkEa-YREjCy9GEj9807rVaV6MRyp4j-mc/edit?usp=sharing),
which provides more information about the module's actual intentions.

