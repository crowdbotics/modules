# WordPress

The Module use to handle WordPress Integrations and allow users to create or edit content on any “WordPress.com” site and also on any self-hosted(WordPress.org) site.

This Module is related to WordPress.com not WordPress.org The main difference between the two versions is the way your site is hosted. WordPress.com is a hosting platform that provides you with a turnkey solution, while WordPress.org is a self-hosted solution (you take care of it yourself).

## Scope Features
The following are the critical features in scope for this module.
1. Generate Access Token
2. Give the list of users of a site and other functionality related to user like (get, update detail of a user, remove user)
3. Give the list of shortcodes available on a site and provide other information about site like (activate, deactivate, get widgets on a site etc)
4. Get a single post (by ID) and also create, delete, update the post.
5. Get a single/list of comments and also delete, like and, kill the comment on a post.
6. Get a list of site categories, detail about a single category. And also create and delete the category.
7. Give some functionality about categories like (get multiple categories, edit category, create and delete category).

## Keys And Credientials Setup
You can get environment variable by the following steps:
1. Create a [developer account](https://login.wordpress.org/register?locale=en_US) on Wordpress. Fulfill your details and click on Create Account.
2. You will be asked to complete a few steps by entering your details. Once you have completed the process you will be directed to your dashboard. Then Go to My Apps.
3. After that you have to click on Create New Application.
4. To create new application enter your details  such as name, redirect_uri(important) and type etc.
5. When you click on the create button your client id, client secret and redirect uri will appear.
6. Copy your client id, client secret and redirect uri and paste it in .env file.
![screenshot-developer wordpress com-2023 03 24-14_33_46](https://user-images.githubusercontent.com/120275623/227482252-4b579e05-34af-4c5e-bc02-a289dd6ecdb4.png)

## Environment variables

```
WORDPRESS_BASE_URL = ""
WORDPRESS_CLIENT_ID = ""
PAYPAL_CLIENT_SECRETS = ""
WORDPRESS_REDIRECT_URL = ""
WORDPRESS DOMAIN = ""
```
To get Token authentication you need a WordPress code, a front-end Developer must hit this [Authorize URL](https://public-api.wordpress.com/oauth2/authorize?client_id={client_id}&redirect_uri={uri}&response_type=code)

## Setup Installation
Start the server by running the following command :
```
python manage.py runserver
```

## Api Table
List of api's endpoints with params needed for these apis.

| Api Name                                                           |                 Param                  | Description                                                                                                                                                                                                                                                                                                                |
|--------------------------------------------------------------------|:--------------------------------------:|:---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `/modules/wordpress/posts/get-auth-token/ `                        |        headers `wordpress-code`        | Provide Auth Token to perform further Authentication                                                                                                                                                                                                                                                                       |
| `/modules/wordpress/posts/create-post/`                            |              request.body              | Create a post on WordPress. Required the request body. For details about request body visit the given link  https://developer.wordpress.com/docs/api/1.1/post/sites/%24site/posts/new/                                                                                                                                     |
| `/modules/wordpress/posts/{post_id}/edit-post/`                    |    request.body <br/> Url `post_id`    | Edit a post on WordPress. Required the request body. For details about request body visit the given link  https://developer.wordpress.com/docs/api/1.1/post/sites/%24site/posts/%24post_ID/                                                                                                                                |
| `/modules/wordpress/posts/get-multiple-post/`                      |                 params                 | Get a list of matching posts. User can use optional query params. For details about query params visit the given link below https://developer.wordpress.com/docs/api/1.1/get/sites/%24site/posts/                                                                                                                          |
| `/modules/wordpress/posts/{post_id}/delete-single-post/`           |             Url `post_id`              | Delete a post. Note: If the trash is enabled, this request will send the post to the trash. A second request will permanently delete the post.                                                                                                                                                                             |
| `/modules/wordpress/posts/delete-multiple-post/`                   |              request.body              | Delete multiple posts. Note: If the trash is enabled, this request will send non-trashed posts to the trash. Trashed posts will be permanently deleted. Required the request body. For details about request body visit the given link below https://developer.wordpress.com/docs/api/1.1/post/sites/%24site/posts/delete/ |
| `/modules/wordpress/posts/{post_id}/restore-post/`                 |             Url `post_id`              | Restore multiple posts.                                                                                                                                                                                                                                                                                                    |
| `/modules/wordpress/posts/{post_id}/get-list-of-likes/`            |             Url `post_id`              | Get a list of the likes for a post.                                                                                                                                                                                                                                                                                        |
| `/modules/wordpress/posts/{post_id}/like-post/`                    |             Url `post_id`              | Like a post.                                                                                                                                                                                                                                                                                                               |
| `/modules/wordpress/posts/{post_id}/unlike-post/`                  |             Url `post_id`              | Unlike a post                                                                                                                                                                                                                                                                                                              |
| `/modules/wordpress/posts/{post_id}/get-list-of-post-subscribers/` |             Url `post_id`              | Get a list of the specified post's subscribers.                                                                                                                                                                                                                                                                            |
| `/modules/wordpress/users/get-multiple-users/`                     |                 params                 | List the users of a site.                                                                                                                                                                                                                                                                                                  |
| `/modules/wordpress/users/{user_id}/update-user-details/`          |             Url `user_id`              | Update details of a user of a site.                                                                                                                                                                                                                                                                                        |
| `/modules/wordpress/users/{user_id}/delete-user/`                  |             Url `user_id`              | Delete a User                                                                                                                                                                                                                                                                                                              |
| `/modules/wordpress/sites/get-rendered-shortcode-for-site/`        |                 params                 | Get a rendered shortcode for a site. Note: The current user must have publishing access. User have to you required query params. For details about query params visit the given link below https://developer.wordpress.com/docs/api/1.1/get/sites/%24site/shortcodes/render/                                               |
| `/modules/wordpress/sites/get-active-inactive-widgets/`            |                  None                  | Retrieve the active and inactive widgets for a site.                                                                                                                                                                                                                                                                       |
| `/modules/wordpress/sites/activate-widget/`                        |              request.body              | Activate a widget on a site. Required the request body. For details about request body visit the given link below https://developer.wordpress.com/docs/api/1.1/post/sites/%24site/widgets/new/                                                                                                                             |
| `/modules/wordpress/sites/{widget_id}/deactivate-widget/`          |            Url `widget_id`             | Deactivate a widget on a site.                                                                                                                                                                                                                                                                                             |
| `/modules/wordpress/comments/{comment_id}/get-single-comment/`     |            Url `comment_id`            | Get a single comment.                                                                                                                                                                                                                                                                                                      |
| `/modules/wordpress/comments/{comment_id}/edit-comment/`           |            Url `comment_id`            | Edit a comment Required the request body. For details about request body visit the given link below https://developer.wordpress.com/docs/api/1.1/post/sites/%24site/comments/%24comment_ID/                                                                                                                                |
| `/modules/wordpress/comments/{comment_id}/delete-comment/`         |            Url `comment_id`            | Delete a comment                                                                                                                                                                                                                                                                                                           |
| `/modules/wordpress/comments/{post_id}/create-comment-on-post/`    |    request.body <br/> Url `post_id`    | Creates a comment on post Required the request body. For details about request body visit the given link below https://developer.wordpress.com/docs/api/1.1/post/sites/%24site/posts/%24post_ID/replies/new/                                                                                                               |
| `/modules/wordpress/comments/{comment_id}/like-comment/`           |            Url `comment_id`            | Like a comment                                                                                                                                                                                                                                                                                                             |
| `/modules/wordpress/comments/{comment_id}/unlike-comment/`         |            Url `comment_id`            | Unlike a comment                                                                                                                                                                                                                                                                                                           |
| `/modules/wordpress/taxonomy/get-list-of-site-categories/`         |                  None                  | Get a list of a site's categories.                                                                                                                                                                                                                                                                                         |
| `/modules/wordpress/taxonomy/create-category/`                     |              request.body              | Create a new category. Required the request body. For details about request body visit the given link below https://developer.wordpress.com/docs/api/1.1/post/sites/%24site/categories/new/                                                                                                                                |
| `/modules/wordpress/taxonomy/{category_id}/edit-category/`         | request.body <br/> Url `category_slug` | Edit a category. Required the request body. For details about request body visit the given link below https://developer.wordpress.com/docs/api/1.1/post/sites/%24site/categories/slug:%24category/                                                                                                                         |
| `/modules/wordpress/taxonomy/{category_slug}/delete-category/`     |          Url `category_slug`           | Delete a category.                                                                                                                                                                                                                                                                                                         |
| `/modules/wordpress/taxonomy/get-list-of-site-tags/`               |                  None                  | Get a list of a site's tags.                                                                                                                                                                                                                                                                                               |
| `/modules/wordpress/taxonomy/create-tag/`                          |              request.body              | Create a new Tag.Required the request body. For details about request body visit the given link below https://developer.wordpress.com/docs/api/1.1/post/sites/%24site/tags/new/                                                                                                                                            |
| `/modules/wordpress/taxonomy/{tag_slug}/edit-tag/`                 |   request.body <br/> Url `tag_slug`    | Edit a tag. Required the request body. For details about request body visit the given link below https://developer.wordpress.com/docs/api/1.1/post/sites/%24site/tags/slug:%24tag/                                                                                                                                         |
| `/modules/wordpress/taxonomy/{tag_slug}/delete-tag/`               |             Url `tag_slug`             | Delete a tag.                                                                                                                                                                                                                                                                                                              |
| `/modules/wordpress/follow/follow_blog/`                           |                  None                  | Follow a blog.                                                                                                                                                                                                                                                                                                             |
| `/modules/wordpress/follow/unfollow_blog/`                         |                  None                  | Unfollow a blog                                                                                                                                                                                                                                                                                                            |
| `/modules/wordpress/freshly-pressed/get-freshly-pressed-posts/`    |                 Params                 | Get a list of Freshly Pressed posts. User can use optional query params. For details about query params visit the given link below https://developer.wordpress.com/docs/api/1.1/get/freshly-pressed/                                                                                                                       |
| `/modules/wordpress/reader/get-list-of-insights/`                  |                  None                  | Get a list of stats/metrics/insights that the current user has access to.                                                                                                                                                                                                                                                  |
| `/modules/wordpress/reader/{insight_slug}/get-raw-data-graph/`     |           Url `insight_slug`           | Get raw data for a particular graph.                                                                                                                                                                                                                                                                                       |
| `/modules/wordpress/reader/get-default-reader-menu/`               |                  None                  | Get default reader menu.                                                                                                                                                                                                                                                                                                   |
| `/modules/wordpress/reader/{feed_id_or_url}/get-feed-details/`     |          Url `feed_id_or_url`          | Get details about a feed.                                                                                                                                                                                                                                                                                                  |
| `/modules/wordpress/reader/{tag_name}/get-list-of-post-from-tag/`  |            Url `{tag_name}`            | Get a list of posts from a tag                                                                                                                                                                                                                                                                                             |
| `/modules/wordpress/reader/{tag_name}/subscribe-new-tag/`          |            Url `{tag_name}`            | Subscribe to a new tag.                                                                                                                                                                                                                                                                                                    |
| `/modules/wordpress/reader/{tag_name}/unsubscribe-new-tag/`        |            Url `{tag_name}`            | Unsubscribe to a new tag.                                                                                                                                                                                                                                                                                                  |
| `/modules/wordpress/stats/get-site-stats/`                         |                  None                  | Get a site's stats                                                                                                                                                                                                                                                                                                         |
| `/modules/wordpress/stats/get-site-stats-summary/`                 |                  None                  | View a site's summarized views, visitors, likes and comments                                                                                                                                                                                                                                                               |
| `/modules/wordpress/stats/{post_id}/get-post-views/`               |            Url `{post_id}`             | View a post's views                                                                                                                                                                                                                                                                                                        |
| `/modules/wordpress/stats/get-site-followers/`                     |                  None                  | View a site's followers                                                                                                                                                                                                                                                                                                    |
| `/modules/wordpress/menu/create-navigation-menu/`                  |              request.body              | Create a new navigation menu. Required the request body. For details about request body visit the given link below https://developer.wordpress.com/docs/api/1.1/post/sites/%24site/menus/new/                                                                                                                              |
| `/modules/wordpress/menu/{menu_id}/update-navigation-menu/`        |     request.body  Url `{menu_id}`      | Update a navigation menu. Required the request body. For details about request body visit the given link below https://developer.wordpress.com/docs/api/1.1/post/sites/%24site/menus/%24menu_id/                                                                                                                           |
| `/modules/wordpress/menu/{menu_id}/delete-navigation-menu/`        |            Url `{menu_id}`             | Delete a navigation menu                                                                                                                                                                                                                                                                                                   |
| `/modules/wordpress/menu/{menu_id}/get-all-navigation-menu/`       |                  None                  | Get a list of all navigation menus.                                                                                                                                                                                                                                                                                        |
| `/modules/wordpress/insights/get-list-of-insights/`                |                  None                  | Get a list of stats/metrics/insights that the current user has access to.                                                                                                                                                                                                                                                  |
| `/modules/wordpress/insights/{insight_slug}/get-raw-data-graph/`   |          Url `{insight_slug}`          | Get raw data for a particular graph                                                                                                                                                                                                                                                                                        |

## Postman Collection Of Wordpress APIs
Here is a collection of all the api endpoints for the wordpress module.
[Wordpress-APIs Postman Collection](https://drive.google.com/file/d/19l6tOhFxQAZ9lEfVjLYcZqepAO-jBD1r/view?usp=share_link)

## Module Specifications
Here is the [Module Specification Document](https://docs.google.com/document/d/1OMUhgHQm7NlkEa-YREjCy9GEj9807rVaV6MRyp4j-mc/edit?usp=sharing), which provides more information about the module's actual intentions.

## Contributing
Pull requests are welcome. For major changes, please open an issue first to discuss what you would like to change.
Please make sure to update tests as appropriate.

## License
[MIT](https://choosealicense.com/licenses/mit/)
